import fs from "fs"
import { ArchiveRegistry, ArchiveRegistryEVM, archivesRegistry, archivesRegistryEVM } from '../src/'


function genTypes(registry: ArchiveRegistry | ArchiveRegistryEVM): string {
    const names: string[] = []
    for (const archive of registry.archives) { 
        names.push(`"${archive.network}"`)
    }

    return names.join("|")
}

fs.writeFileSync(`${__dirname}/../src/chains.ts`, 
`
//
// This file is a autogenerated, DO NOT EDIT. 
// Run npm run gen-types to generate this file from archives.
//

export type KnownArchives = ${genTypes(archivesRegistry)}
export type KnownArchivesEVM = ${genTypes(archivesRegistryEVM)}

`
)
